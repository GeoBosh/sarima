<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="

Compute confidence and acceptance intervals for sample
  autocorrelations under assumptions chosen by the user."><title>Confidence and acceptance intervals in package sarima — confint • sarima</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Confidence and acceptance intervals in package sarima — confint"><meta property="og:description" content="

Compute confidence and acceptance intervals for sample
  autocorrelations under assumptions chosen by the user."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sarima</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/GeoBosh/sarima/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Confidence and acceptance intervals in package sarima</h1>
      
      <div class="d-none name"><code>confint.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    

<p>Compute confidence and acceptance intervals for sample
  autocorrelations under assumptions chosen by the user.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for SampleAutocorrelations</span></span>
<span><span class="fu">confint</span><span class="op">(</span><span class="va">object</span>, <span class="va">parm</span>, level <span class="op">=</span> <span class="fl">0.95</span>, se <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">maxlag</span>, <span class="va">...</span>, <span class="va">assuming</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>an object containing sample autocorrelations (sacfs).</p></dd>

  <dt>parm</dt>
<dd><p>which parameters to include, as for <code><a href="https://rdrr.io/r/stats/confint.html" class="external-link">stats::confint</a></code>.</p></dd>

  <dt>level</dt>
<dd><p>coverage level, such as 0.95.</p></dd>

  <dt>se</dt>
<dd><p>If <code>TRUE</code> return also standard errors.</p></dd>

  <dt>assuming</dt>
<dd>

<p>under what assumptions to do the computations?
    Currently can be <code>"iid"</code>, <code>"garch"</code>, a fitted model, or a
    theoretical model, see Details.</p>
<p></p></dd>

  <dt>maxlag</dt>
<dd><p>maximal lag to include</p></dd>

  <dt>...</dt>
<dd><p>further arguments for <code>se</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    

<p>For lags not fixed by the assumed model the computed intervals are
  confidence intervals.</p>
<p>The autocorrelations postulated by the null model (argument
  <code>assuming</code>) are usually fixed for some lags. For such lags it
  doesn't make sense to talk about confidence intervals.  We use the
  term <em>acceptance interval</em> in this case since the sacfs for such
  lags fall in the corresponding intervals with high probability if the
  null model is correct.</p>
<p>If <code>assuming</code> is <code>"iid"</code> (strong white noise), then all
  autocorrelations in the null model are fixed (to zero) and the limits
  of the resulting acceptance intervals are ethose from the familiar
  plots produced by base-R's function <code><a href="https://rdrr.io/r/stats/acf.html" class="external-link">acf</a></code>.</p>
<p>If <code>assuming</code> is a fitted MA(q) model, e.g. obtained from
  <code><a href="https://rdrr.io/r/stats/arima.html" class="external-link">arima()</a></code>, then for lags \(1,\ldots,q\) we get
  confidence intervals, while for lags greater than \(q\) the
  intervals are acceptance intervals.</p>
<p>The autocorrelations of ARMA models with non-trivial autoregressive
  part may also have structural patterns of zeroes (for example some
  seasonal models), leading to acceptance intervals for such lags.</p>
<p>If <code>assuming</code> specifies a theoretical (non-fitted) model, then
  the autocorrelation function of the null model is completely fixed and
  we get acceptance intervals for all lags.</p>
<p>The return value is a matrix with one row for each requested lag,
  containg the lag, lower bound, upper bound, estimate for acf(lag) and
  the value of acf(lag) under H0 (if fixed) and <code>NA</code> if not fixed
  under H0. The null model is stored as attribute <code>"assuming"</code>.</p>  
<p><strong>Note:</strong> When <code>assuming = "garch"</code> it is currently
  necessary to submit the time series from which the autocorrelations
  were computed as argument <code>x</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a matrix as described in section ‘Details’;</p>


<p>if <code>se = TRUE</code>, a column giving the standard errors of the sample
  autocorrelations is appended.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="se.html">se</a></code></p>
<p><code>vignette("white_noise_tests", package = "sarima")</code></p>  
<p><code>vignette("garch_tests_example", package = "sarima")</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/arima.sim.html" class="external-link">arima.sim</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.1</span><span class="op">)</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">v1.acf</span> <span class="op">&lt;-</span> <span class="fu"><a href="autocorrelations.html">autocorrelations</a></span><span class="op">(</span><span class="va">v1</span>, maxlag <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">confint</span><span class="op">(</span><span class="va">v1.acf</span>, parm <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, assuming <span class="op">=</span> <span class="st">"iid"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Lag      2.5 %    97.5 %  Estimate H0_fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_1   1 -0.1959964 0.1959964 0.6194318        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_2   2 -0.1959964 0.1959964 0.1960955        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_3   3 -0.1959964 0.1959964 0.1071118        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_4   4 -0.1959964 0.1959964 0.1348527        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assuming")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "iid"</span>
<span class="r-in"><span><span class="fu">confint</span><span class="op">(</span><span class="va">v1.acf</span>,  assuming <span class="op">=</span> <span class="st">"iid"</span>, maxlag <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="co"># same</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Lag      2.5 %    97.5 %  Estimate H0_fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_1   1 -0.1959964 0.1959964 0.6194318        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_2   2 -0.1959964 0.1959964 0.1960955        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_3   3 -0.1959964 0.1959964 0.1071118        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_4   4 -0.1959964 0.1959964 0.1348527        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assuming")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "iid"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## a fitted MA(2) - rho_1, rho_2 not fixed, the rest fixed</span></span></span>
<span class="r-in"><span><span class="va">ma2fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/arima.html" class="external-link">arima</a></span><span class="op">(</span><span class="va">v1</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">2</span><span class="op">)</span>, include.mean<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">confint</span><span class="op">(</span><span class="va">v1.acf</span>, assuming <span class="op">=</span> <span class="va">ma2fitted</span>, maxlag <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Lag       2.5 %    97.5 %  Estimate H0_fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_1   1  0.48912998 0.7497336 0.6194318       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_2   2 -0.04684288 0.4390339 0.1960955       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_3   3 -0.24926724 0.2492672 0.1071118        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_4   4 -0.24926724 0.2492672 0.1348527        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assuming")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> arima(x = v1, order = c(0, 0, 2), include.mean = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          ma1     ma2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0.9902  0.1126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> s.e.  0.0884  0.0910</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma^2 estimated as 0.9474:  log likelihood = -139.99,  aic = 285.99</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## a theoretical MA(2) model, all acfs fixed under H0</span></span></span>
<span class="r-in"><span><span class="va">ma2</span> <span class="op">&lt;-</span> <span class="fu"><a href="ArmaModel.html">MaModel</a></span><span class="op">(</span>ma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.1</span><span class="op">)</span>, sigma2 <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">confint</span><span class="op">(</span><span class="va">v1.acf</span>, assuming <span class="op">=</span> <span class="va">ma2</span>, maxlag <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Lag      2.5 %    97.5 %  Estimate H0_fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_1   1  0.7463301 1.0136699 0.6194318     0.88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_2   2 -0.1394966 0.3394966 0.1960955     0.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_3   3 -0.2460700 0.2460700 0.1071118     0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_4   4 -0.2460700 0.2460700 0.1348527     0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assuming")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "MaModel"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mean:  0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigmaSq:  1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> slot "ar":</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "BJFilter"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> order:  0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> numeric(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> slot "ma":</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "SPFilter"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> order:  2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8 0.1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># a weak white noise null</span></span></span>
<span class="r-in"><span><span class="fu">confint</span><span class="op">(</span><span class="va">v1.acf</span>, assuming <span class="op">=</span> <span class="st">"garch"</span>, maxlag <span class="op">=</span> <span class="fl">4</span>, x <span class="op">=</span> <span class="va">v1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Lag      2.5 %    97.5 %  Estimate H0_fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_1   1 -0.2414976 0.2414976 0.6194318        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_2   2 -0.1919697 0.1919697 0.1960955        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_3   3 -0.1882971 0.1882971 0.1071118        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lag_4   4 -0.1626543 0.1626543 0.1348527        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assuming")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "garch"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Georgi N. Boshnakov, Jamie Halliday.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

